<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>01 osc - stepSequencer</title>
</head>
<body>
  <script src="js/p5.min.js"></script>
  <script src="js/p5.sound.min.js"></script>
  <script>
  var osc;
  var fft;

  function setup(){
    createCanvas(800,500);
    noFill();
    osc = new p5.Oscillator('sine'); //sine, triangle, sawtooth, square
    osc.start();
    osc.amp(0.5); // アンプ 音の大きさ
    osc.freq(640); // 周波数 音の高さ

    fft = new p5.FFT(); //波形のインスタンス
  }


  function draw() {
    var x, y;
    var waveform = fft.waveform();
    background(230);
    beginShape();
    for (var i = 0; i < waveform.length; i++) {
      x = map(i, 0, waveform.length, 0, width);
      y = map(waveform[i], -1.0, 1.0, height, 0);
      vertex(x, y);
    }
    endShape();
  }
  </script>
</body>
</html>
